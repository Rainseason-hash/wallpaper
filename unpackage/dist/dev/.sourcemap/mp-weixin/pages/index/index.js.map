{"version":3,"file":"index.js","sources":["pages/index/index.vue","../../HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvaW5kZXgvaW5kZXgudnVl"],"sourcesContent":["<template>\n\t<view class=\"layout pageBg\">\n\t\t<custom-nav-bar title=\"推荐\"></custom-nav-bar>\n\t\t<view class=\"banner\">\n\t\t\t<swiper indicator-dots autoplay indicator-color=\"rgba(255,255,255,0.7)\" indicator-active-color=\"#fff\" circular>\n\t\t\t\t<swiper-item v-for=\"item in bannerList\" :key=\"item._id\">\n\t\t\t\t\t<navigator v-if=\"item.target == 'miniProgram'\" class=\"link\" target=\"miniProgram\" :url=\"item.url\" :app-id=\"item.appid\">\n\t\t\t\t\t\t<image :src=\"item.picurl\" mode=\"aspectFill\"></image>\n\t\t\t\t\t</navigator>\n\n\t\t\t\t\t<navigator v-else class=\"link\" :url=\"`/pages/classlist/classlist?${item.url}`\">\n\t\t\t\t\t\t<image :src=\"item.picurl\" mode=\"aspectFill\"></image>\n\t\t\t\t\t</navigator>\n\t\t\t\t</swiper-item>\n\t\t\t</swiper>\n\t\t</view>\n\t\t<view class=\"notice\">\n\t\t\t<view class=\"left\">\n\t\t\t\t<uni-icons type=\"sound-filled\" size=\"23\" color=\"#28b389\"></uni-icons>\n\t\t\t\t<text class=\"text\">公告</text>\n\t\t\t</view>\n\t\t\t<view class=\"center\">\n\t\t\t\t<swiper autoplay circular interval=\"1500\" duration=\"300\" vertical>\n\t\t\t\t\t<swiper-item v-for=\"item in noticeList\" :key=\"item._id\">\n\t\t\t\t\t\t<navigator :url=\"'/pages/notice/xiangqing?id=' + item._id\">{{ item.title }}</navigator>\n\t\t\t\t\t</swiper-item>\n\t\t\t\t</swiper>\n\t\t\t</view>\n\t\t\t<view class=\"right\">\n\t\t\t\t<uni-icons type=\"right\" size=\"16\" color=\"#333\"></uni-icons>\n\t\t\t</view>\n\t\t</view>\n\t\t<view class=\"select\">\n\t\t\t<common-title>\n\t\t\t\t<template #name>每日推荐</template>\n\t\t\t\t<template #custom>\n\t\t\t\t\t<view class=\"date\">\n\t\t\t\t\t\t<uni-icons type=\"calendar\" size=\"20\" color=\"#28b389\"></uni-icons>\n\t\t\t\t\t\t<view class=\"text\">\n\t\t\t\t\t\t\t<uni-dateformat :date=\"Date.now()\" format=\"dd\"></uni-dateformat>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</template>\n\t\t\t</common-title>\n\t\t\t<view class=\"content\">\n\t\t\t\t<scroll-view scroll-x>\n\t\t\t\t\t<view class=\"box\" v-for=\"item in randomList\" :key=\"item._id\" @click=\"goDetail(item._id)\">\n\t\t\t\t\t\t<image :src=\"item.smallPicurl\" mode=\"aspectFill\"></image>\n\t\t\t\t\t</view>\n\t\t\t\t</scroll-view>\n\t\t\t</view>\n\t\t</view>\n\t\t<view class=\"theme\">\n\t\t\t<common-title>\n\t\t\t\t<template #name>专题精选</template>\n\t\t\t\t<template #custom>\n\t\t\t\t\t<navigator url=\"/pages/classify/classify\" open-type=\"reLaunch\" class=\"more\">More+</navigator>\n\t\t\t\t</template>\n\t\t\t</common-title>\n\t\t\t<view class=\"content\">\n\t\t\t\t<theme-item v-for=\"item in classifyList\" :key=\"item._id\" :item=\"item\"></theme-item>\n\t\t\t\t<theme-item :isMore=\"true\"></theme-item>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script setup>\nimport { ref } from 'vue';\nimport { onShareAppMessage, onShareTimeline } from '@dcloudio/uni-app';\nimport { apiGetBanner, apiGetDayRandom, apiGetNotice, apiGetClassify } from '@/api/apis.js';\nconst bannerList = ref([]);\nconst randomList = ref([]);\nconst noticeList = ref([]);\nconst classifyList = ref([]);\n//跳转至详情页\nconst goDetail = (id) => {\n\tuni.setStorageSync('classList', randomList.value);\n\tuni.navigateTo({\n\t\turl: '/pages/detail/detail?id=' + id\n\t});\n};\n//分享给好友\nonShareAppMessage((e) => {\n\treturn {\n\t\ttitle: '小茉莉壁纸',\n\t\tpath: '/pages/index/index'\n\t};\n});\n//分享给朋友圈\nonShareTimeline((e) => {\n\treturn {\n\t\ttitle: '笨鸟',\n\t\timageUrl: '/static/images/logo2.jpg'\n\t};\n});\nconst getBanner = async () => {\n\tconst res = await apiGetBanner();\n\tbannerList.value = res.data;\n\tconsole.log(res);\n};\n//随机九张图\nconst getRandomImg = async () => {\n\tconst res = await apiGetDayRandom();\n\trandomList.value = res.data;\n};\n//获取公告列表\nconst getNotice = async () => {\n\tconst res2 = await apiGetNotice({ select: true });\n\tnoticeList.value = res2.data;\n};\n//获取专题精选\nconst getClassify = async () => {\n\tconst res = await apiGetClassify({ select: true });\n\t// console.log(res);\n\tclassifyList.value = res.data;\n};\n\ngetBanner();\ngetRandomImg();\ngetNotice();\ngetClassify();\n</script>\n\n<style lang=\"scss\" scoped>\n.layout {\n\t.banner {\n\t\twidth: 750rpx;\n\t\tpadding: 30rpx 0;\n\t\tswiper {\n\t\t\twidth: 750rpx;\n\t\t\theight: 340rpx;\n\t\t\tswiper-item {\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 100%;\n\t\t\t\tpadding: 0 30rpx;\n\t\t\t\t.link {\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\theight: 100%;\n\t\t\t\t\timage {\n\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t\tborder-radius: 10rpx;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t.notice {\n\t\tdisplay: flex;\n\t\twidth: 690rpx;\n\t\theight: 80rpx;\n\t\tmargin: 0 auto;\n\t\tbackground-color: #f9f9f9;\n\t\tborder-radius: 80rpx;\n\t\tline-height: 80rpx;\n\t\t.left {\n\t\t\twidth: 140rpx;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tjustify-content: center;\n\t\t\tvertical-align: middle;\n\t\t\t.text {\n\t\t\t\tcolor: #28b389;\n\t\t\t\tfont-weight: 600;\n\t\t\t\tfont-size: 28rpx;\n\t\t\t}\n\t\t}\n\t\t.center {\n\t\t\tflex: 1;\n\t\t\tswiper {\n\t\t\t\theight: 100%;\n\t\t\t\tswiper-item {\n\t\t\t\t\theight: 100%;\n\t\t\t\t\tfont-size: 30rpx;\n\t\t\t\t\tcolor: #666;\n\t\t\t\t\toverflow: hidden;\n\t\t\t\t\twhite-space: nowrap;\n\t\t\t\t\ttext-overflow: ellipsis;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t.right {\n\t\t\twidth: 70rpx;\n\t\t}\n\t}\n\t.select {\n\t\tpadding-top: 50rpx;\n\t\t.date {\n\t\t\tdisplay: flex;\n\t\t\tcolor: $brand-theme-color;\n\t\t\talign-items: center;\n\t\t\tvertical-align: middle;\n\t\t\t.text {\n\t\t\t\tmargin-left: 10rpx;\n\t\t\t}\n\t\t}\n\t\t.content {\n\t\t\twidth: 720rpx;\n\t\t\tmargin-left: 30rpx;\n\t\t\tmargin-top: 30rpx;\n\t\t\tscroll-view {\n\t\t\t\twhite-space: nowrap;\n\t\t\t\t.box {\n\t\t\t\t\twidth: 200rpx;\n\t\t\t\t\theight: 430rpx;\n\t\t\t\t\tdisplay: inline-block;\n\t\t\t\t\tmargin-right: 15rpx;\n\n\t\t\t\t\timage {\n\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t\tborder-radius: 10rpx;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t.box:last-child {\n\t\t\t\t\tmargin-right: 30rpx;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t.theme {\n\t\tpadding-top: 50rpx;\n\t\t.more {\n\t\t\tcolor: #888;\n\t\t\tfont-size: 30rpx;\n\t\t}\n\t\t.content {\n\t\t\tmargin-top: 30rpx;\n\t\t\tpadding: 0 30rpx;\n\t\t\tdisplay: grid;\n\t\t\tgap: 10rpx;\n\t\t\tgrid-template-columns: repeat(3, 1fr);\n\t\t}\n\t}\n}\n</style>\n","import MiniProgramPage from 'D:/program files/HBuilderX.4.76.2025082103/Project/wallPaper/pages/index/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","uni","onShareAppMessage","onShareTimeline","apiGetBanner","apiGetDayRandom","apiGetNotice","apiGetClassify"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAuEA,UAAA,aAAAA,cAAAA,IAAA,CAAA,CAAA;AACA,UAAA,aAAAA,cAAAA,IAAA,CAAA,CAAA;AACA,UAAA,aAAAA,cAAAA,IAAA,CAAA,CAAA;AACA,UAAA,eAAAA,cAAAA,IAAA,CAAA,CAAA;AAEA,UAAA,WAAA,CAAA,OAAA;AACAC,oBAAAA,MAAA,eAAA,aAAA,WAAA,KAAA;AACAA,oBAAAA,MAAA,WAAA;AAAA,QACA,KAAA,6BAAA;AAAA,MACA,CAAA;AAAA,IACA;AAEAC,kBAAA,kBAAA,CAAA,MAAA;AACA,aAAA;AAAA,QACA,OAAA;AAAA,QACA,MAAA;AAAA,MACA;AAAA,IACA,CAAA;AAEAC,kBAAA,gBAAA,CAAA,MAAA;AACA,aAAA;AAAA,QACA,OAAA;AAAA,QACA,UAAA;AAAA,MACA;AAAA,IACA,CAAA;AACA,UAAA,YAAA,YAAA;AACA,YAAA,MAAA,MAAAC,SAAAA;AACA,iBAAA,QAAA,IAAA;AACAH,oBAAAA,MAAA,MAAA,OAAA,gCAAA,GAAA;AAAA,IACA;AAEA,UAAA,eAAA,YAAA;AACA,YAAA,MAAA,MAAAI,SAAAA;AACA,iBAAA,QAAA,IAAA;AAAA,IACA;AAEA,UAAA,YAAA,YAAA;AACA,YAAA,OAAA,MAAAC,SAAA,aAAA,EAAA,QAAA,KAAA,CAAA;AACA,iBAAA,QAAA,KAAA;AAAA,IACA;AAEA,UAAA,cAAA,YAAA;AACA,YAAA,MAAA,MAAAC,SAAA,eAAA,EAAA,QAAA,KAAA,CAAA;AAEA,mBAAA,QAAA,IAAA;AAAA,IACA;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxHA,GAAG,WAAW,eAAe;"}