import{b as a,z as s,A as l,s as e,d as t,e as i,a as u,w as o,F as n,i as d,o as c,c as r,q as m,f as p,l as g,h as _}from"./index-D5Y4zg7a.js";import{_ as f}from"./uni-load-more.BTVfTIwm.js";import{o as v,a as y,g as h,h as j,i as k,j as q,k as L,r as b}from"./apis.TJJjNeQ0.js";import{_ as w}from"./_plugin-vue_export-helper.BCo6x5W8.js";const x=w({__name:"classlist",setup(w){const x=a([]),z=a(!1),P={pageNum:1,pageSize:12};v((a=>({title:"小茉莉壁纸",path:"/pages/classlist/classlist?id="+P.classid+"&name="+P.name}))),y((a=>({title:"笨鸟",query:"id=' + queryParams.classid + '&name=' + queryParams.name"}))),h((a=>{console.log(a);let{id:l=null,name:e=null,type:t=null}=a;t&&(P.type=t),l&&(P.classid=l),P.name=e,s({title:e}),F()})),j((()=>{l("classList")})),k((()=>{z.value||(P.pageNum++,F())}));const F=async()=>{let a;P.classid&&(a=await q(P)),P.type&&(a=await L(P)),x.value=[...x.value,...a.data],P.pageSize>a.data.length&&(z.value=!0),e("classList",x.value),console.log(a)};return(a,s)=>{const l=b(t("uni-load-more"),f),e=d,v=g,y=_;return c(),i(n,null,[u(e,{class:"classlist"},{default:o((()=>[x.value.length||z.value?m("",!0):(c(),r(e,{key:0,class:"loadingLayout"},{default:o((()=>[u(l,{status:"loading"})])),_:1})),u(e,{class:"content"},{default:o((()=>[(c(!0),i(n,null,p(x.value,(a=>(c(),r(y,{url:"/pages/detail/detail?id="+a._id,class:"item",key:a._id},{default:o((()=>[u(v,{src:a.smallPicurl,mode:"aspectFill"},null,8,["src"])])),_:2},1032,["url"])))),128))])),_:1}),x.value.length||z.value?(c(),r(e,{key:1,class:"loadingLayout"},{default:o((()=>[u(l,{status:z.value?"noMore":"loading"},null,8,["status"])])),_:1})):m("",!0)])),_:1}),u(e,{class:"safe-area-inset-bottom"})],64)}}},[["__scopeId","data-v-f23d3cf7"]]);export{x as default};
